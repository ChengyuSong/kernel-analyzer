# lit.site.cfg
import os
import lit.formats

config.name = "Reachability Analysis Tests"
config.test_format = lit.formats.ShTest(True)

# Treat .c files as tests.
config.suffixes = ['.c']

# Set the root for test sources.
config.test_source_root = os.path.dirname(__file__)
# Use the same directory for test execution.
config.test_exec_root = config.test_source_root

# Add substitutions for the tools.
# Assuming %clang is available on your PATH.
config.substitutions.append(('%clang', 'clang'))

# Since build/tests is a sibling of build/lib, use relative path:
config.substitutions.append(('%KAMain', os.path.join(os.path.dirname(__file__), '..', 'lib', 'KAMain')))